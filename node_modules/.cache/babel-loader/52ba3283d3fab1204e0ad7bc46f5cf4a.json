{"ast":null,"code":"var _regeneratorRuntime = require(\"/home/alirazaarshad/www/react/tinder-clone/node_modules/@babel/runtime/helpers/regeneratorRuntime.js\").default;\n\nvar _asyncToGenerator = require(\"/home/alirazaarshad/www/react/tinder-clone/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\n\n/* global WebKitCSSMatrix */\nvar React = require('react');\n\nvar sleep = require('p-sleep');\n\nvar settings = {\n  snapBackDuration: 300,\n  maxTilt: 5,\n  bouncePower: 0.2,\n  swipeThreshold: 300 // px/s\n\n};\n\nvar getElementSize = function getElementSize(element) {\n  var elementStyles = window.getComputedStyle(element);\n  var widthString = elementStyles.getPropertyValue('width');\n  var width = Number(widthString.split('px')[0]);\n  var heightString = elementStyles.getPropertyValue('height');\n  var height = Number(heightString.split('px')[0]);\n  return {\n    x: width,\n    y: height\n  };\n};\n\nvar pythagoras = function pythagoras(x, y) {\n  return Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\n};\n\nvar normalize = function normalize(vector) {\n  var multiplier = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  var length = Math.sqrt(Math.pow(vector.x, 2) + Math.pow(vector.y, 2));\n  return {\n    x: vector.x * multiplier / length,\n    y: vector.y * multiplier / length\n  };\n};\n\nvar animateOut = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(element, speed) {\n    var easeIn,\n        startPos,\n        bodySize,\n        diagonal,\n        velocity,\n        time,\n        multiplier,\n        translateString,\n        rotateString,\n        rotationPower,\n        _args = arguments;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            easeIn = _args.length > 2 && _args[2] !== undefined ? _args[2] : false;\n            startPos = getTranslate(element);\n            bodySize = getElementSize(document.body);\n            diagonal = pythagoras(bodySize.x, bodySize.y);\n            velocity = pythagoras(speed.x, speed.y);\n            time = diagonal / velocity;\n            multiplier = diagonal / velocity;\n            translateString = translationString(speed.x * multiplier + startPos.x, -speed.y * multiplier + startPos.y);\n            rotateString = '';\n            rotationPower = 200;\n\n            if (easeIn) {\n              element.style.transition = 'ease ' + time + 's';\n            } else {\n              element.style.transition = 'ease-out ' + time + 's';\n            }\n\n            if (getRotation(element) === 0) {\n              rotateString = rotationString((Math.random() - 0.5) * rotationPower);\n            } else if (getRotation(element) > 0) {\n              rotateString = rotationString(Math.random() * rotationPower / 2 + getRotation(element));\n            } else {\n              rotateString = rotationString((Math.random() - 1) * rotationPower / 2 + getRotation(element));\n            }\n\n            element.style.transform = translateString + rotateString;\n            _context.next = 15;\n            return sleep(time * 1000);\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function animateOut(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar animateBack = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(element) {\n    var startingPoint, translation, rotation;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            element.style.transition = settings.snapBackDuration + 'ms';\n            startingPoint = getTranslate(element);\n            translation = translationString(startingPoint.x * -settings.bouncePower, startingPoint.y * -settings.bouncePower);\n            rotation = rotationString(getRotation(element) * -settings.bouncePower);\n            element.style.transform = translation + rotation;\n            _context2.next = 7;\n            return sleep(settings.snapBackDuration * 0.75);\n\n          case 7:\n            element.style.transform = 'none';\n            _context2.next = 10;\n            return sleep(settings.snapBackDuration);\n\n          case 10:\n            element.style.transition = '10ms';\n\n          case 11:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function animateBack(_x3) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar getSwipeDirection = function getSwipeDirection(property) {\n  if (Math.abs(property.x) > Math.abs(property.y)) {\n    if (property.x > settings.swipeThreshold) {\n      return 'right';\n    } else if (property.x < -settings.swipeThreshold) {\n      return 'left';\n    }\n  } else {\n    if (property.y > settings.swipeThreshold) {\n      return 'up';\n    } else if (property.y < -settings.swipeThreshold) {\n      return 'down';\n    }\n  }\n\n  return 'none';\n};\n\nvar calcSpeed = function calcSpeed(oldLocation, newLocation) {\n  var dx = newLocation.x - oldLocation.x;\n  var dy = oldLocation.y - newLocation.y;\n  var dt = (newLocation.time - oldLocation.time) / 1000;\n  return {\n    x: dx / dt,\n    y: dy / dt\n  };\n};\n\nvar translationString = function translationString(x, y) {\n  var translation = 'translate(' + x + 'px, ' + y + 'px)';\n  return translation;\n};\n\nvar rotationString = function rotationString(rot) {\n  var rotation = 'rotate(' + rot + 'deg)';\n  return rotation;\n};\n\nvar getTranslate = function getTranslate(element) {\n  var style = window.getComputedStyle(element);\n  var matrix = new WebKitCSSMatrix(style.webkitTransform);\n  var ans = {\n    x: matrix.m41,\n    y: -matrix.m42\n  };\n  return ans;\n};\n\nvar getRotation = function getRotation(element) {\n  var style = window.getComputedStyle(element);\n  var matrix = new WebKitCSSMatrix(style.webkitTransform);\n  var ans = -Math.asin(matrix.m21) / (2 * Math.PI) * 360;\n  return ans;\n};\n\nvar dragableTouchmove = function dragableTouchmove(coordinates, element, offset, lastLocation) {\n  var pos = {\n    x: coordinates.x + offset.x,\n    y: coordinates.y + offset.y\n  };\n  var newLocation = {\n    x: pos.x,\n    y: pos.y,\n    time: new Date().getTime()\n  };\n  var translation = translationString(pos.x, pos.y);\n  var rotCalc = calcSpeed(lastLocation, newLocation).x / 1000;\n  var rotation = rotationString(rotCalc * settings.maxTilt);\n  element.style.transform = translation + rotation;\n  return newLocation;\n};\n\nvar touchCoordinatesFromEvent = function touchCoordinatesFromEvent(e) {\n  var touchLocation = e.targetTouches[0];\n  return {\n    x: touchLocation.clientX,\n    y: touchLocation.clientY\n  };\n};\n\nvar mouseCoordinatesFromEvent = function mouseCoordinatesFromEvent(e) {\n  return {\n    x: e.clientX,\n    y: e.clientY\n  };\n};\n\nvar TinderCard = React.forwardRef(function (_ref3, ref) {\n  var _ref3$flickOnSwipe = _ref3.flickOnSwipe,\n      flickOnSwipe = _ref3$flickOnSwipe === void 0 ? true : _ref3$flickOnSwipe,\n      children = _ref3.children,\n      onSwipe = _ref3.onSwipe,\n      onCardLeftScreen = _ref3.onCardLeftScreen,\n      className = _ref3.className,\n      _ref3$preventSwipe = _ref3.preventSwipe,\n      preventSwipe = _ref3$preventSwipe === void 0 ? [] : _ref3$preventSwipe,\n      _ref3$swipeRequiremen = _ref3.swipeRequirementType,\n      swipeRequirementType = _ref3$swipeRequiremen === void 0 ? 'velocity' : _ref3$swipeRequiremen,\n      _ref3$swipeThreshold = _ref3.swipeThreshold,\n      swipeThreshold = _ref3$swipeThreshold === void 0 ? settings.swipeThreshold : _ref3$swipeThreshold,\n      onSwipeRequirementFulfilled = _ref3.onSwipeRequirementFulfilled,\n      onSwipeRequirementUnfulfilled = _ref3.onSwipeRequirementUnfulfilled;\n  settings.swipeThreshold = swipeThreshold;\n  var swipeAlreadyReleased = React.useRef(false);\n  var element = React.useRef();\n  React.useImperativeHandle(ref, function () {\n    return {\n      swipe: function swipe() {\n        var _arguments = arguments;\n        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n          var dir, power, disturbance;\n          return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  dir = _arguments.length > 0 && _arguments[0] !== undefined ? _arguments[0] : 'right';\n                  if (onSwipe) onSwipe(dir);\n                  power = 1000;\n                  disturbance = (Math.random() - 0.5) * 100;\n\n                  if (!(dir === 'right')) {\n                    _context3.next = 9;\n                    break;\n                  }\n\n                  _context3.next = 7;\n                  return animateOut(element.current, {\n                    x: power,\n                    y: disturbance\n                  }, true);\n\n                case 7:\n                  _context3.next = 22;\n                  break;\n\n                case 9:\n                  if (!(dir === 'left')) {\n                    _context3.next = 14;\n                    break;\n                  }\n\n                  _context3.next = 12;\n                  return animateOut(element.current, {\n                    x: -power,\n                    y: disturbance\n                  }, true);\n\n                case 12:\n                  _context3.next = 22;\n                  break;\n\n                case 14:\n                  if (!(dir === 'up')) {\n                    _context3.next = 19;\n                    break;\n                  }\n\n                  _context3.next = 17;\n                  return animateOut(element.current, {\n                    x: disturbance,\n                    y: power\n                  }, true);\n\n                case 17:\n                  _context3.next = 22;\n                  break;\n\n                case 19:\n                  if (!(dir === 'down')) {\n                    _context3.next = 22;\n                    break;\n                  }\n\n                  _context3.next = 22;\n                  return animateOut(element.current, {\n                    x: disturbance,\n                    y: -power\n                  }, true);\n\n                case 22:\n                  element.current.style.display = 'none';\n                  if (onCardLeftScreen) onCardLeftScreen(dir);\n\n                case 24:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3);\n        }))();\n      },\n      restoreCard: function restoreCard() {\n        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n          return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n            while (1) {\n              switch (_context4.prev = _context4.next) {\n                case 0:\n                  element.current.style.display = 'block';\n                  _context4.next = 3;\n                  return animateBack(element.current);\n\n                case 3:\n                case \"end\":\n                  return _context4.stop();\n              }\n            }\n          }, _callee4);\n        }))();\n      }\n    };\n  });\n  var handleSwipeReleased = React.useCallback( /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(element, speed) {\n      var currentPostion, dir, outVelocity;\n      return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              if (!swipeAlreadyReleased.current) {\n                _context5.next = 2;\n                break;\n              }\n\n              return _context5.abrupt(\"return\");\n\n            case 2:\n              swipeAlreadyReleased.current = true;\n              currentPostion = getTranslate(element); // Check if this is a swipe\n\n              dir = getSwipeDirection(swipeRequirementType === 'velocity' ? speed : currentPostion);\n\n              if (!(dir !== 'none')) {\n                _context5.next = 15;\n                break;\n              }\n\n              if (onSwipe) onSwipe(dir);\n\n              if (!flickOnSwipe) {\n                _context5.next = 15;\n                break;\n              }\n\n              if (preventSwipe.includes(dir)) {\n                _context5.next = 15;\n                break;\n              }\n\n              outVelocity = swipeRequirementType === 'velocity' ? speed : normalize(currentPostion, 600);\n              _context5.next = 12;\n              return animateOut(element, outVelocity);\n\n            case 12:\n              element.style.display = 'none';\n              if (onCardLeftScreen) onCardLeftScreen(dir);\n              return _context5.abrupt(\"return\");\n\n            case 15:\n              // Card was not flicked away, animate back to start\n              animateBack(element);\n\n            case 16:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function (_x4, _x5) {\n      return _ref4.apply(this, arguments);\n    };\n  }(), [swipeAlreadyReleased, flickOnSwipe, onSwipe, onCardLeftScreen, preventSwipe, swipeRequirementType]);\n  var handleSwipeStart = React.useCallback(function () {\n    swipeAlreadyReleased.current = false;\n  }, [swipeAlreadyReleased]);\n  React.useLayoutEffect(function () {\n    var offset = {\n      x: null,\n      y: null\n    };\n    var speed = {\n      x: 0,\n      y: 0\n    };\n    var lastLocation = {\n      x: 0,\n      y: 0,\n      time: new Date().getTime()\n    };\n    var mouseIsClicked = false;\n    var swipeThresholdFulfilledDirection = 'none';\n    element.current.addEventListener('touchstart', function (ev) {\n      ev.preventDefault();\n      handleSwipeStart();\n      offset = {\n        x: -touchCoordinatesFromEvent(ev).x,\n        y: -touchCoordinatesFromEvent(ev).y\n      };\n    });\n    element.current.addEventListener('mousedown', function (ev) {\n      ev.preventDefault();\n      mouseIsClicked = true;\n      handleSwipeStart();\n      offset = {\n        x: -mouseCoordinatesFromEvent(ev).x,\n        y: -mouseCoordinatesFromEvent(ev).y\n      };\n    });\n\n    var handleMove = function handleMove(coordinates) {\n      // Check fulfillment\n      if (onSwipeRequirementFulfilled || onSwipeRequirementUnfulfilled) {\n        var dir = getSwipeDirection(swipeRequirementType === 'velocity' ? speed : getTranslate(element.current));\n\n        if (dir !== swipeThresholdFulfilledDirection) {\n          swipeThresholdFulfilledDirection = dir;\n\n          if (swipeThresholdFulfilledDirection === 'none') {\n            if (onSwipeRequirementUnfulfilled) onSwipeRequirementUnfulfilled();\n          } else {\n            if (onSwipeRequirementFulfilled) onSwipeRequirementFulfilled(dir);\n          }\n        }\n      } // Move\n\n\n      var newLocation = dragableTouchmove(coordinates, element.current, offset, lastLocation);\n      speed = calcSpeed(lastLocation, newLocation);\n      lastLocation = newLocation;\n    };\n\n    element.current.addEventListener('touchmove', function (ev) {\n      ev.preventDefault();\n      handleMove(touchCoordinatesFromEvent(ev));\n    });\n    element.current.addEventListener('mousemove', function (ev) {\n      ev.preventDefault();\n\n      if (mouseIsClicked) {\n        handleMove(mouseCoordinatesFromEvent(ev));\n      }\n    });\n    element.current.addEventListener('touchend', function (ev) {\n      ev.preventDefault();\n      handleSwipeReleased(element.current, speed);\n    });\n    element.current.addEventListener('mouseup', function (ev) {\n      if (mouseIsClicked) {\n        ev.preventDefault();\n        mouseIsClicked = false;\n        handleSwipeReleased(element.current, speed);\n      }\n    });\n    element.current.addEventListener('mouseleave', function (ev) {\n      if (mouseIsClicked) {\n        ev.preventDefault();\n        mouseIsClicked = false;\n        handleSwipeReleased(element.current, speed);\n      }\n    });\n  }, []); // TODO fix so swipeRequirementType can be changed on the fly. Pass as dependency cleanup eventlisteners and update new eventlisteners.\n\n  return React.createElement('div', {\n    ref: element,\n    className: className\n  }, children);\n});\nmodule.exports = TinderCard;","map":{"version":3,"names":["React","require","sleep","settings","snapBackDuration","maxTilt","bouncePower","swipeThreshold","getElementSize","element","elementStyles","window","getComputedStyle","widthString","getPropertyValue","width","Number","split","heightString","height","x","y","pythagoras","Math","sqrt","pow","normalize","vector","multiplier","length","animateOut","speed","easeIn","startPos","getTranslate","bodySize","document","body","diagonal","velocity","time","translateString","translationString","rotateString","rotationPower","style","transition","getRotation","rotationString","random","transform","animateBack","startingPoint","translation","rotation","getSwipeDirection","property","abs","calcSpeed","oldLocation","newLocation","dx","dy","dt","rot","matrix","WebKitCSSMatrix","webkitTransform","ans","m41","m42","asin","m21","PI","dragableTouchmove","coordinates","offset","lastLocation","pos","Date","getTime","rotCalc","touchCoordinatesFromEvent","e","touchLocation","targetTouches","clientX","clientY","mouseCoordinatesFromEvent","TinderCard","forwardRef","ref","flickOnSwipe","children","onSwipe","onCardLeftScreen","className","preventSwipe","swipeRequirementType","onSwipeRequirementFulfilled","onSwipeRequirementUnfulfilled","swipeAlreadyReleased","useRef","useImperativeHandle","swipe","dir","power","disturbance","current","display","restoreCard","handleSwipeReleased","useCallback","currentPostion","includes","outVelocity","handleSwipeStart","useLayoutEffect","mouseIsClicked","swipeThresholdFulfilledDirection","addEventListener","ev","preventDefault","handleMove","createElement","module","exports"],"sources":["/home/alirazaarshad/www/react/tinder-clone/node_modules/react-tinder-card/index.js"],"sourcesContent":["/* global WebKitCSSMatrix */\n\nconst React = require('react')\nconst sleep = require('p-sleep')\n\nconst settings = {\n  snapBackDuration: 300,\n  maxTilt: 5,\n  bouncePower: 0.2,\n  swipeThreshold: 300 // px/s\n}\n\nconst getElementSize = (element) => {\n  const elementStyles = window.getComputedStyle(element)\n  const widthString = elementStyles.getPropertyValue('width')\n  const width = Number(widthString.split('px')[0])\n  const heightString = elementStyles.getPropertyValue('height')\n  const height = Number(heightString.split('px')[0])\n  return { x: width, y: height }\n}\n\nconst pythagoras = (x, y) => {\n  return Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2))\n}\n\nconst normalize = (vector, multiplier = 1) => {\n  const length = Math.sqrt(Math.pow(vector.x, 2) + Math.pow(vector.y, 2))\n  return { x: vector.x * multiplier / length, y: vector.y * multiplier / length }\n}\n\nconst animateOut = async (element, speed, easeIn = false) => {\n  const startPos = getTranslate(element)\n  const bodySize = getElementSize(document.body)\n  const diagonal = pythagoras(bodySize.x, bodySize.y)\n\n  const velocity = pythagoras(speed.x, speed.y)\n  const time = diagonal / velocity\n  const multiplier = diagonal / velocity\n\n  const translateString = translationString(speed.x * multiplier + startPos.x, -speed.y * multiplier + startPos.y)\n  let rotateString = ''\n\n  const rotationPower = 200\n\n  if (easeIn) {\n    element.style.transition = 'ease ' + time + 's'\n  } else {\n    element.style.transition = 'ease-out ' + time + 's'\n  }\n\n  if (getRotation(element) === 0) {\n    rotateString = rotationString((Math.random() - 0.5) * rotationPower)\n  } else if (getRotation(element) > 0) {\n    rotateString = rotationString((Math.random()) * rotationPower / 2 + getRotation(element))\n  } else {\n    rotateString = rotationString((Math.random() - 1) * rotationPower / 2 + getRotation(element))\n  }\n\n  element.style.transform = translateString + rotateString\n\n  await sleep(time * 1000)\n}\n\nconst animateBack = async (element) => {\n  element.style.transition = settings.snapBackDuration + 'ms'\n  const startingPoint = getTranslate(element)\n  const translation = translationString(startingPoint.x * -settings.bouncePower, startingPoint.y * -settings.bouncePower)\n  const rotation = rotationString(getRotation(element) * -settings.bouncePower)\n  element.style.transform = translation + rotation\n\n  await sleep(settings.snapBackDuration * 0.75)\n  element.style.transform = 'none'\n\n  await sleep(settings.snapBackDuration)\n  element.style.transition = '10ms'\n}\n\nconst getSwipeDirection = (property) => {\n  if (Math.abs(property.x) > Math.abs(property.y)) {\n    if (property.x > settings.swipeThreshold) {\n      return 'right'\n    } else if (property.x < -settings.swipeThreshold) {\n      return 'left'\n    }\n  } else {\n    if (property.y > settings.swipeThreshold) {\n      return 'up'\n    } else if (property.y < -settings.swipeThreshold) {\n      return 'down'\n    }\n  }\n  return 'none'\n}\n\nconst calcSpeed = (oldLocation, newLocation) => {\n  const dx = newLocation.x - oldLocation.x\n  const dy = oldLocation.y - newLocation.y\n  const dt = (newLocation.time - oldLocation.time) / 1000\n  return { x: dx / dt, y: dy / dt }\n}\n\nconst translationString = (x, y) => {\n  const translation = 'translate(' + x + 'px, ' + y + 'px)'\n  return translation\n}\n\nconst rotationString = (rot) => {\n  const rotation = 'rotate(' + rot + 'deg)'\n  return rotation\n}\n\nconst getTranslate = (element) => {\n  const style = window.getComputedStyle(element)\n  const matrix = new WebKitCSSMatrix(style.webkitTransform)\n  const ans = { x: matrix.m41, y: -matrix.m42 }\n  return ans\n}\n\nconst getRotation = (element) => {\n  const style = window.getComputedStyle(element)\n  const matrix = new WebKitCSSMatrix(style.webkitTransform)\n  const ans = -Math.asin(matrix.m21) / (2 * Math.PI) * 360\n  return ans\n}\n\nconst dragableTouchmove = (coordinates, element, offset, lastLocation) => {\n  const pos = { x: coordinates.x + offset.x, y: coordinates.y + offset.y }\n  const newLocation = { x: pos.x, y: pos.y, time: new Date().getTime() }\n  const translation = translationString(pos.x, pos.y)\n  const rotCalc = calcSpeed(lastLocation, newLocation).x / 1000\n  const rotation = rotationString(rotCalc * settings.maxTilt)\n  element.style.transform = translation + rotation\n  return newLocation\n}\n\nconst touchCoordinatesFromEvent = (e) => {\n  const touchLocation = e.targetTouches[0]\n  return { x: touchLocation.clientX, y: touchLocation.clientY }\n}\n\nconst mouseCoordinatesFromEvent = (e) => {\n  return { x: e.clientX, y: e.clientY }\n}\n\nconst TinderCard = React.forwardRef(({ flickOnSwipe = true, children, onSwipe, onCardLeftScreen, className, preventSwipe = [], swipeRequirementType = 'velocity', swipeThreshold = settings.swipeThreshold, onSwipeRequirementFulfilled, onSwipeRequirementUnfulfilled }, ref) => {\n  settings.swipeThreshold = swipeThreshold\n  const swipeAlreadyReleased = React.useRef(false)\n\n  const element = React.useRef()\n\n  React.useImperativeHandle(ref, () => ({\n    async swipe (dir = 'right') {\n      if (onSwipe) onSwipe(dir)\n      const power = 1000\n      const disturbance = (Math.random() - 0.5) * 100\n      if (dir === 'right') {\n        await animateOut(element.current, { x: power, y: disturbance }, true)\n      } else if (dir === 'left') {\n        await animateOut(element.current, { x: -power, y: disturbance }, true)\n      } else if (dir === 'up') {\n        await animateOut(element.current, { x: disturbance, y: power }, true)\n      } else if (dir === 'down') {\n        await animateOut(element.current, { x: disturbance, y: -power }, true)\n      }\n      element.current.style.display = 'none'\n      if (onCardLeftScreen) onCardLeftScreen(dir)\n    },\n    async restoreCard () {\n      element.current.style.display = 'block'\n      await animateBack(element.current)\n    }\n  }))\n\n  const handleSwipeReleased = React.useCallback(async (element, speed) => {\n    if (swipeAlreadyReleased.current) { return }\n    swipeAlreadyReleased.current = true\n\n    const currentPostion = getTranslate(element)\n    // Check if this is a swipe\n    const dir = getSwipeDirection(swipeRequirementType === 'velocity' ? speed : currentPostion)\n\n    if (dir !== 'none') {\n      if (onSwipe) onSwipe(dir)\n\n      if (flickOnSwipe) {\n        if (!preventSwipe.includes(dir)) {\n          const outVelocity = swipeRequirementType === 'velocity' ? speed : normalize(currentPostion, 600)\n          await animateOut(element, outVelocity)\n          element.style.display = 'none'\n          if (onCardLeftScreen) onCardLeftScreen(dir)\n          return\n        }\n      }\n    }\n\n    // Card was not flicked away, animate back to start\n    animateBack(element)\n  }, [swipeAlreadyReleased, flickOnSwipe, onSwipe, onCardLeftScreen, preventSwipe, swipeRequirementType])\n\n  const handleSwipeStart = React.useCallback(() => {\n    swipeAlreadyReleased.current = false\n  }, [swipeAlreadyReleased])\n\n  React.useLayoutEffect(() => {\n    let offset = { x: null, y: null }\n    let speed = { x: 0, y: 0 }\n    let lastLocation = { x: 0, y: 0, time: new Date().getTime() }\n    let mouseIsClicked = false\n    let swipeThresholdFulfilledDirection = 'none'\n\n    element.current.addEventListener(('touchstart'), (ev) => {\n      ev.preventDefault()\n      handleSwipeStart()\n      offset = { x: -touchCoordinatesFromEvent(ev).x, y: -touchCoordinatesFromEvent(ev).y }\n    })\n\n    element.current.addEventListener(('mousedown'), (ev) => {\n      ev.preventDefault()\n      mouseIsClicked = true\n      handleSwipeStart()\n      offset = { x: -mouseCoordinatesFromEvent(ev).x, y: -mouseCoordinatesFromEvent(ev).y }\n    })\n\n    const handleMove = (coordinates) => {\n      // Check fulfillment\n      if (onSwipeRequirementFulfilled || onSwipeRequirementUnfulfilled) {\n        const dir = getSwipeDirection(swipeRequirementType === 'velocity' ? speed : getTranslate(element.current))\n        if (dir !== swipeThresholdFulfilledDirection) {\n          swipeThresholdFulfilledDirection = dir\n          if (swipeThresholdFulfilledDirection === 'none') {\n            if (onSwipeRequirementUnfulfilled) onSwipeRequirementUnfulfilled()\n          } else {\n            if (onSwipeRequirementFulfilled) onSwipeRequirementFulfilled(dir)\n          }\n        }\n      }\n\n      // Move\n      const newLocation = dragableTouchmove(coordinates, element.current, offset, lastLocation)\n      speed = calcSpeed(lastLocation, newLocation)\n      lastLocation = newLocation\n    }\n\n    element.current.addEventListener(('touchmove'), (ev) => {\n      ev.preventDefault()\n      handleMove(touchCoordinatesFromEvent(ev))\n    })\n\n    element.current.addEventListener(('mousemove'), (ev) => {\n      ev.preventDefault()\n      if (mouseIsClicked) {\n        handleMove(mouseCoordinatesFromEvent(ev))\n      }\n    })\n\n    element.current.addEventListener(('touchend'), (ev) => {\n      ev.preventDefault()\n      handleSwipeReleased(element.current, speed)\n    })\n\n    element.current.addEventListener(('mouseup'), (ev) => {\n      if (mouseIsClicked) {\n        ev.preventDefault()\n        mouseIsClicked = false\n        handleSwipeReleased(element.current, speed)\n      }\n    })\n\n    element.current.addEventListener(('mouseleave'), (ev) => {\n      if (mouseIsClicked) {\n        ev.preventDefault()\n        mouseIsClicked = false\n        handleSwipeReleased(element.current, speed)\n      }\n    })\n  }, []) // TODO fix so swipeRequirementType can be changed on the fly. Pass as dependency cleanup eventlisteners and update new eventlisteners.\n\n  return (\n    React.createElement('div', { ref: element, className }, children)\n  )\n})\n\nmodule.exports = TinderCard\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}